<!-- userlist.html -->
{% extends '_base.html' %}

{% block title %}
    User List
{% endblock %}

{% block content %}
    <h2>User List</h2>
    <table id="userTable" class="display table table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>Email</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Is Active</th>
                <th>Is Staff</th>
                <th>Date Joined</th>
            </tr>
            <tr>
                <th><input type="text" class="form-control column-search" placeholder="Search ID" /></th>
                <th><input type="text" class="form-control column-search" placeholder="Search Email" /></th>
                <th><input type="text" class="form-control column-search" placeholder="Search First Name" /></th>
                <th><input type="text" class="form-control column-search" placeholder="Search Last Name" /></th>
                <th>
                    <select class="form-control column-search">
                        <option value="">All</option>
                        <option value="true">Active</option>
                        <option value="false">Inactive</option>
                    </select>
                </th>
                <th>
                    <select class="form-control column-search">
                        <option value="">All</option>
                        <option value="true">Staff</option>
                        <option value="false">Non-staff</option>
                    </select>
                </th>
                <th><input type="text" class="form-control column-search" placeholder="Search Date" /></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>john@example.com</td>
                <td>John</td>
                <td>Doe</td>
                <td>true</td>
                <td>false</td>
                <td>2024-10-01</td>
            </tr>
            <tr>
                <td>2</td>
                <td>jane@example.com</td>
                <td>Jane</td>
                <td>Smith</td>
                <td>false</td>
                <td>true</td>
                <td>2024-09-15</td>
            </tr>
            <tr>
                <td>3</td>
                <td>mary@example.com</td>
                <td>Mary</td>
                <td>Johnson</td>
                <td>true</td>
                <td>true</td>
                <td>2024-08-20</td>
            </tr>
            <tr>
                <td>4</td>
                <td>peter@example.com</td>
                <td>Peter</td>
                <td>Parker</td>
                <td>false</td>
                <td>false</td>
                <td>2024-07-10</td>
            </tr>
        </tbody>
    </table>
{% endblock %}

{% block javascript %}
    <script>
        $(document).ready(function() {
            // Initialize the DataTable
            var table = $('#userTable').DataTable({
                "paging": true,
                "searching": true,
                "ordering": true,
                "autoWidth": false
            });

            // Apply the search for each column
            $('#userTable thead tr:eq(1) th input, #userTable thead tr:eq(1) th select').on('keyup change', function() {
                var columnIndex = $(this).closest('th').index();
                var searchValue = $(this).val();
                table.column(columnIndex).search(searchValue).draw();
            });
        });
    </script>
{% endblock %}
